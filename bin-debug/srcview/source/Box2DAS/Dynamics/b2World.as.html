<!-- saved from url=(0014)about:internet -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>b2World.as</title>
<link rel="stylesheet" type="text/css" href="../../../SourceStyles.css"/>
</head>

<body><pre><span class="ActionScriptpackage">package</span> <span class="ActionScriptDefault_Text">Box2DAS</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Dynamics</span> <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">Box2DAS</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">*</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">Box2DAS</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Collision</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">*</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">Box2DAS</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Collision</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Shapes</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">*</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">Box2DAS</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Controllers</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">*</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">Box2DAS</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Common</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">*</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">Box2DAS</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Dynamics</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">*</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">Box2DAS</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Dynamics</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Contacts</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">*</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">Box2DAS</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Dynamics</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Joints</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">*</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">cmodule</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Box2D</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">*</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">events</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">*</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">utils</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">*</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">display</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">*</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">utils</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">*</span>;        <span class="ActionScriptComment">/// The world class manages all physics entities, dynamic simulation,</span>    <span class="ActionScriptComment">/// and asynchronous queries. The world also contains efficient memory</span>    <span class="ActionScriptComment">/// management facilities.</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptclass">class</span> <span class="ActionScriptDefault_Text">b2World</span> <span class="ActionScriptReserved">extends</span> <span class="ActionScriptDefault_Text">b2EventDispatcher</span> <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">defaultContactListener</span>:<span class="ActionScriptDefault_Text">Class</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b2ContactListener</span>;        <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">defaultDestructionListener</span>:<span class="ActionScriptDefault_Text">Class</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b2DestructionListener</span>;                        <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">e_newFixture</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0x0001;        <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">e_locked</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0x0002;        <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">e_clearForces</span>:<span class="ActionScriptDefault_Text">int</span>    <span class="ActionScriptOperator">=</span> 0x0004;                <span class="ActionScriptComment">/// Construct a world object.</span>        <span class="ActionScriptComment">/// @param gravity the world gravity vector.</span>        <span class="ActionScriptComment">/// @param doSleep improve performance by not simulating inactive bodies.</span>        <span class="ActionScriptComment">/// b2World(const b2Vec2&amp; gravity, bool doSleep);</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">b2World</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">g_or_p</span>:<span class="ActionScriptOperator">*</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">s</span>:<span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">d</span>:<span class="ActionScriptDefault_Text">IEventDispatcher</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptComment">// b2World is usually the first thing to be created - make sure the system is initialized.</span>            <span class="ActionScriptDefault_Text">b2Base</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">initialize</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptReserved">super</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">d</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">g</span>:<span class="ActionScriptDefault_Text">V2</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">g_or_p</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">V2</span>;            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">g</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">_ptr</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">lib</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">b2World_new</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">g</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">g</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">s</span><span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptReserved">else</span> <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">_ptr</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">g_or_p</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">int</span>;            <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptDefault_Text">m_gravity</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">b2Vec2</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_ptr</span> <span class="ActionScriptOperator">+</span> 102968<span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">bd</span>:<span class="ActionScriptDefault_Text">b2BodyDef</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">b2BodyDef</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">m_groundBody</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">b2Body</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">bd</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">bd</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">destroy</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">m_contactManager</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">b2ContactManager</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_ptr</span> <span class="ActionScriptOperator">+</span> 102872<span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">SetContactListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">defaultContactListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">b2ContactListener</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">SetDestructionListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">defaultDestructionListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">b2DestructionListener</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">StepEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">STEP</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">HandleStep</span><span class="ActionScriptBracket/Brace">)</span>;                    <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptComment">/// Destruct the world. All physics entities are destroyed and all heap memory is released.</span>        <span class="ActionScriptComment">/// ~b2World();</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">override</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">destroy</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">lib</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">b2World_delete</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_ptr</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">StepEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">STEP</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">HandleStep</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptReserved">super</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">destroy</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptComment">/// Query the world for all fixtures that potentially overlap the</span>        <span class="ActionScriptComment">/// provided AABB.</span>        <span class="ActionScriptComment">/// @param callback a user implemented callback class.</span>        <span class="ActionScriptComment">/// @param aabb the query box.</span>        <span class="ActionScriptComment">/// void QueryAABB(b2QueryCallback* callback, const b2AABB&amp; aabb);</span>        <span class="ActionScriptComment">///</span>        <span class="ActionScriptComment">/// AS3 Callback Signature:</span>        <span class="ActionScriptComment">/// function(fixture:b2Fixture):Boolean;</span>        <span class="ActionScriptComment">///</span>        <span class="ActionScriptComment">/// Return true to continue, false to stop.</span>        <span class="ActionScriptComment">///</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">QueryAABB</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">callback</span>:<span class="ActionScriptDefault_Text">Function</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">aabb</span>:<span class="ActionScriptDefault_Text">AABB</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">lib</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">b2World_QueryAABB</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_ptr</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">callback</span><span class="ActionScriptOperator">,</span>                 <span class="ActionScriptDefault_Text">aabb</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">lowerBound</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">aabb</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">lowerBound</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span><span class="ActionScriptOperator">,</span>                 <span class="ActionScriptDefault_Text">aabb</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">upperBound</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">aabb</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">upperBound</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptComment">/// Query a point.</span>        <span class="ActionScriptComment">///</span>        <span class="ActionScriptComment">/// AS3 Callback Signature:</span>        <span class="ActionScriptComment">/// function(fixture:b2Fixture):Boolean;</span>        <span class="ActionScriptComment">///</span>        <span class="ActionScriptComment">/// Return true to continue, false to stop.</span>        <span class="ActionScriptComment">///</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">QueryPoint</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">callback</span>:<span class="ActionScriptDefault_Text">Function</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">p</span>:<span class="ActionScriptDefault_Text">V2</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">QueryAABB</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptfunction">function</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">f</span>:<span class="ActionScriptDefault_Text">b2Fixture</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">f</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">m_shape</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">TestPoint</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">f</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">m_body</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">GetTransform</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">p</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">callback</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">f</span><span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">return</span> <span class="ActionScriptReserved">true</span>;            <span class="ActionScriptBracket/Brace">}</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">AABB</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">FromV2</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">p</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptComment">/// Ray-cast the world for all fixtures in the path of the ray. Your callback</span>        <span class="ActionScriptComment">/// controls whether you get the closest point, any point, or n-points.</span>        <span class="ActionScriptComment">/// The ray-cast ignores shapes that contain the starting point.</span>        <span class="ActionScriptComment">/// @param callback a user implemented callback class.</span>        <span class="ActionScriptComment">/// @param point1 the ray starting point</span>        <span class="ActionScriptComment">/// @param point2 the ray ending point</span>        <span class="ActionScriptComment">/// void RayCast(b2RayCastCallback* callback, const b2Vec2&amp; point1, const b2Vec2&amp; point2);</span>        <span class="ActionScriptComment">///</span>        <span class="ActionScriptComment">/// AS3 Callback Signature:</span>        <span class="ActionScriptComment">/// function(fixture:b2Fixture, point:V2, normal:V2, fraction:Number):Number;</span>        <span class="ActionScriptComment">///</span>        <span class="ActionScriptComment">/// WARNING: If your callback has an error, it will NOT be reported while debugging. It will</span>        <span class="ActionScriptComment">/// be blocked by Alchemy.</span>        <span class="ActionScriptComment">///</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">RayCast</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">callback</span>:<span class="ActionScriptDefault_Text">Function</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">point1</span>:<span class="ActionScriptDefault_Text">V2</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">point2</span>:<span class="ActionScriptDefault_Text">V2</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">lib</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">b2World_RayCast</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_ptr</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptfunction">function</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">f</span>:<span class="ActionScriptDefault_Text">b2Fixture</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">px</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">py</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">nx</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">ny</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">fr</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">frac</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">callback</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">f</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">V2</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">px</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">py</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">V2</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">nx</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">ny</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">fr</span><span class="ActionScriptBracket/Brace">)</span>;                 <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">frac</span>;            <span class="ActionScriptBracket/Brace">}</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">point1</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">point1</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">point2</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">point2</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptComment">/// Create a rigid body given a definition. No reference to the definition</span>        <span class="ActionScriptComment">/// is retained.</span>        <span class="ActionScriptComment">/// @warning This function is locked during callbacks.</span>        <span class="ActionScriptComment">/// b2Body* CreateBody(const b2BodyDef* def);</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">CreateBody</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">def</span>:<span class="ActionScriptDefault_Text">b2BodyDef</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">b2Body</span> <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">b2Body</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">def</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptComment">/// Destroy a rigid body given a definition. No reference to the definition</span>        <span class="ActionScriptComment">/// is retained. This function is locked during callbacks.</span>        <span class="ActionScriptComment">/// @warning This automatically deletes all associated shapes and joints.</span>        <span class="ActionScriptComment">/// @warning This function is locked during callbacks.</span>        <span class="ActionScriptComment">/// void DestroyBody(b2Body* body);</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">DestroyBody</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">body</span>:<span class="ActionScriptDefault_Text">b2Body</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">body</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">destroy</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptComment">/// Create a joint to constrain bodies together. No reference to the definition</span>        <span class="ActionScriptComment">/// is retained. This may cause the connected bodies to cease colliding.</span>        <span class="ActionScriptComment">/// @warning This function is locked during callbacks.</span>        <span class="ActionScriptComment">/// b2Joint* CreateJoint(const b2JointDef* def);</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">CreateJoint</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">def</span>:<span class="ActionScriptDefault_Text">b2JointDef</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">ed</span>:<span class="ActionScriptDefault_Text">IEventDispatcher</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">b2Joint</span> <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">def</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">create</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">ed</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptComment">/// Destroy a joint. This may cause the connected bodies to begin colliding.</span>        <span class="ActionScriptComment">/// @warning This function is locked during callbacks.</span>        <span class="ActionScriptComment">/// void DestroyJoint(b2Joint* joint);</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">DestroyJoint</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">joint</span>:<span class="ActionScriptDefault_Text">b2Joint</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">joint</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">destroy</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptComment">/// Take a time step. This performs collision detection, integration,</span>        <span class="ActionScriptComment">/// and constraint solution.</span>        <span class="ActionScriptComment">/// @param timeStep the amount of time to simulate, this should not vary.</span>        <span class="ActionScriptComment">/// @param velocityIterations for the velocity constraint solver.</span>        <span class="ActionScriptComment">/// @param positionIterations for the position constraint solver.        </span>        <span class="ActionScriptComment">/// @param resetForces forces will be reset at the end of the step (normally true).</span>        <span class="ActionScriptComment">/// void Step(float32 timeStep, int32 velocityIterations, int32 positionIterations);</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">Step</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">timeStep</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">velocityIterations</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">positionIterations</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">stepTime</span><span class="ActionScriptOperator">++</span>; <span class="ActionScriptComment">//= getTimer();</span>            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">se</span>:<span class="ActionScriptDefault_Text">StepEvent</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">StepEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">timeStep</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">velocityIterations</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">positionIterations</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">stepTime</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">dispatchEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">se</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">HandleStep</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">se</span>:<span class="ActionScriptDefault_Text">StepEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">lib</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">b2World_Step</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_ptr</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">se</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">timeStep</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">se</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">velocityIterations</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">se</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">positionIterations</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                    <span class="ActionScriptComment">/// Get the world body list. With the returned body, use b2Body::GetNext to get</span>        <span class="ActionScriptComment">/// the next body in the world list. A NULL body indicates the end of the list.</span>        <span class="ActionScriptComment">/// @return the head of the world body list.</span>        <span class="ActionScriptComment">/// b2Body* GetBodyList();</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">GetBodyList</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">b2Body</span> <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">m_bodyList</span>;        <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptComment">/// Get the world joint list. With the returned joint, use b2Joint::GetNext to get</span>        <span class="ActionScriptComment">/// the next joint in the world list. A NULL joint indicates the end of the list.</span>        <span class="ActionScriptComment">/// @return the head of the world joint list.</span>        <span class="ActionScriptComment">/// b2Joint* GetJointList();</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">GetJointList</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">b2Joint</span> <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">m_jointList</span>;        <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptComment">/// Get the world contact list. With the returned contact, use b2Contact::GetNext to get</span>        <span class="ActionScriptComment">/// the next contact in the world list. A NULL contact indicates the end of the list.</span>        <span class="ActionScriptComment">/// @return the head of the world contact list.</span>        <span class="ActionScriptComment">/// @warning contacts are </span>        <span class="ActionScriptComment">/// b2Contact* GetContactList();</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">GetContactList</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">b2Contact</span> <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">m_contactManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">m_contactList</span>;        <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptComment">/// Enable/disable warm starting. For testing.</span>        <span class="ActionScriptComment">/// void SetWarmStarting(bool flag) { m_warmStarting = flag; }</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">SetWarmStarting</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">flag</span>:<span class="ActionScriptDefault_Text">Boolean</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">m_warmStarting</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">flag</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptComment">/// Enable/disable continuous physics. For testing.</span>        <span class="ActionScriptComment">/// void SetContinuousPhysics(bool flag) { m_continuousPhysics = flag; }</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">SetContinuousPhysics</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">flag</span>:<span class="ActionScriptDefault_Text">Boolean</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">m_continuousPhysics</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">flag</span>;        <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptComment">/// Get the number of broad-phase proxies.</span>        <span class="ActionScriptComment">/// int32 GetProxyCount() const;</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">GetProxyCount</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">m_contactManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">m_broadPhase</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">GetProxyCount</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptComment">/// Get the number of bodies.</span>        <span class="ActionScriptComment">/// int32 GetBodyCount() const;</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">GetBodyCount</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">m_bodyCount</span>;        <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptComment">/// Get the number of joints.</span>        <span class="ActionScriptComment">/// int32 GetJointCount() const;</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">GetJointCount</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">m_jointCount</span>;        <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptComment">/// Get the number of contacts (each may have 0 or more contact points).</span>        <span class="ActionScriptComment">/// int32 GetContactCount() const;</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">GetContactCount</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">m_contactManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">m_contactCount</span>;        <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptComment">/// Change the global gravity vector.</span>        <span class="ActionScriptComment">/// void SetGravity(const b2Vec2&amp; gravity);</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">SetGravity</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">gravity</span>:<span class="ActionScriptDefault_Text">V2</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">m_gravity</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">v2</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">gravity</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptComment">/// Get the global gravity vector.</span>        <span class="ActionScriptComment">/// b2Vec2 GetGravity() const;</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">GetGravity</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">V2</span> <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">m_gravity</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">v2</span>;        <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptComment">/// Is the world locked (in the middle of a time step).</span>        <span class="ActionScriptComment">/// bool IsLocked() const;</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">IsLocked</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">m_flags</span> <span class="ActionScriptOperator">&amp;</span> <span class="ActionScriptDefault_Text">e_locked</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">e_locked</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptComment">/// Add a controller to the world.</span>        <span class="ActionScriptComment">/// b2Controller* AddController(b2Controller* def);</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">AddController</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">c</span>:<span class="ActionScriptDefault_Text">b2Controller</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">c</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">world</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>;            <span class="ActionScriptDefault_Text">m_controllers</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">c</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;            <span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">StepEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">STEP</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">c</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Step</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">false</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">c</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">priority</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptComment">/// Removes a controller from the world.</span>        <span class="ActionScriptComment">/// void RemoveController(b2Controller* controller);</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">RemoveController</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">c</span>:<span class="ActionScriptDefault_Text">b2Controller</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">c</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">world</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span>;            <span class="ActionScriptReserved">delete</span> <span class="ActionScriptDefault_Text">m_controllers</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">c</span><span class="ActionScriptBracket/Brace">]</span>;            <span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">StepEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">STEP</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">c</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Step</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptComment">/// Register a destruction listener.</span>        <span class="ActionScriptComment">/// void SetDestructionListener(b2DestructionListener* listener);</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">SetDestructionListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">listener</span>:<span class="ActionScriptDefault_Text">b2DestructionListener</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">m_destructionListener</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">listener</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptComment">/// Register a contact filter to provide specific control over collision.</span>        <span class="ActionScriptComment">/// Otherwise the default filter is used (b2_defaultFilter).</span>        <span class="ActionScriptComment">/// void SetContactFilter(b2ContactFilter* filter);</span>        <span class="ActionScriptComment">/// WILL NOT BE IMPLEMENTED.</span>        <span class="ActionScriptComment">/// AS3 Filtering would be waaaay slow - to many Alchemy to AS3 calls.</span>                <span class="ActionScriptComment">/// Register a contact event listener</span>        <span class="ActionScriptComment">/// void SetContactListener(b2ContactListener* listener);        </span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">SetContactListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">listener</span>:<span class="ActionScriptDefault_Text">b2ContactListener</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">m_contactListener</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">listener</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptComment">/// Set flag to control automatic clearing of forces after each time step.</span>        <span class="ActionScriptComment">/// void SetAutoClearForces(bool flag);        </span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">SetAutoClearForces</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">flag</span>:<span class="ActionScriptDefault_Text">Boolean</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">flag</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">m_flags</span> <span class="ActionScriptOperator">|=</span> <span class="ActionScriptDefault_Text">e_clearForces</span>;            <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptReserved">else</span> <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">m_flags</span> <span class="ActionScriptOperator">&amp;=</span> <span class="ActionScriptOperator">~</span><span class="ActionScriptDefault_Text">e_clearForces</span>;            <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptComment">/// Get the flag that controls automatic clearing of forces after each time step.</span>        <span class="ActionScriptComment">/// bool GetAutoClearForces() const;</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">GetAutoClearForces</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">m_flags</span> <span class="ActionScriptOperator">&amp;</span> <span class="ActionScriptDefault_Text">e_clearForces</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">e_clearForces</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptComment">/// Call this after you are done with time steps to clear the forces. You normally</span>        <span class="ActionScriptComment">/// call this after each call to Step, unless you are performing sub-steps. By default,</span>        <span class="ActionScriptComment">/// forces will be automatically cleared, so you don't need to call this function.</span>        <span class="ActionScriptComment">/// @see SetAutoClearForces</span>        <span class="ActionScriptComment">/// void ClearForces();</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">ClearForces</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">for</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">body</span>:<span class="ActionScriptDefault_Text">b2Body</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m_bodyList</span>; <span class="ActionScriptDefault_Text">body</span>; <span class="ActionScriptDefault_Text">body</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">body</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">GetNext</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">body</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">m_force</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> 0;                <span class="ActionScriptDefault_Text">body</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">m_force</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> 0;                <span class="ActionScriptDefault_Text">body</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">m_torque</span> <span class="ActionScriptOperator">=</span> 0;            <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptBracket/Brace">}</span>                            <span class="ActionScriptComment">/// Incremented each step. This can be used to check</span>        <span class="ActionScriptComment">/// if buffered / cached world data is outdated.</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">stepTime</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0;                <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">m_bodyList</span>:<span class="ActionScriptDefault_Text">b2Body</span>;        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">m_jointList</span>:<span class="ActionScriptDefault_Text">b2Joint</span>;                <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">m_controllers</span>:<span class="ActionScriptDefault_Text">Dictionary</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Dictionary</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">m_destructionListener</span>:<span class="ActionScriptDefault_Text">b2DestructionListener</span>;        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">m_contactListener</span>:<span class="ActionScriptDefault_Text">b2ContactListener</span>;                <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">m_flags</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptBracket/Brace">{</span> <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">mem</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">_mr32</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_ptr</span> <span class="ActionScriptOperator">+</span> 102868<span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">set</span> <span class="ActionScriptDefault_Text">m_flags</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">v</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span> <span class="ActionScriptDefault_Text">mem</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">_mw32</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_ptr</span> <span class="ActionScriptOperator">+</span> 102868<span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">v</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">m_bodyCount</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptBracket/Brace">{</span> <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">mem</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">_mr32</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_ptr</span> <span class="ActionScriptOperator">+</span> 102960<span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">set</span> <span class="ActionScriptDefault_Text">m_bodyCount</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">v</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span> <span class="ActionScriptDefault_Text">mem</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">_mw32</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_ptr</span> <span class="ActionScriptOperator">+</span> 102960<span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">v</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">m_jointCount</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptBracket/Brace">{</span> <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">mem</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">_mr32</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_ptr</span> <span class="ActionScriptOperator">+</span> 102964<span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">set</span> <span class="ActionScriptDefault_Text">m_jointCount</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">v</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span> <span class="ActionScriptDefault_Text">mem</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">_mw32</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_ptr</span> <span class="ActionScriptOperator">+</span> 102964<span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">v</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">m_gravity</span>:<span class="ActionScriptDefault_Text">b2Vec2</span>; <span class="ActionScriptComment">// </span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">m_allowSleep</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptBracket/Brace">{</span> <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">mem</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">_mru8</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_ptr</span> <span class="ActionScriptOperator">+</span> 102976<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">==</span> 1; <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">set</span> <span class="ActionScriptDefault_Text">m_allowSleep</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">v</span>:<span class="ActionScriptDefault_Text">Boolean</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span> <span class="ActionScriptDefault_Text">mem</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">_mw8</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_ptr</span> <span class="ActionScriptOperator">+</span> 102976<span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">v</span> <span class="ActionScriptOperator">?</span> 1 : 0<span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">m_groundBody</span>:<span class="ActionScriptDefault_Text">b2Body</span>; <span class="ActionScriptComment">// </span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">m_contactManager</span>:<span class="ActionScriptDefault_Text">b2ContactManager</span>; <span class="ActionScriptComment">// </span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">m_warmStarting</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptBracket/Brace">{</span> <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">mem</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">_mru8</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_ptr</span> <span class="ActionScriptOperator">+</span> 102992<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">==</span> 1; <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">set</span> <span class="ActionScriptDefault_Text">m_warmStarting</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">v</span>:<span class="ActionScriptDefault_Text">Boolean</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span> <span class="ActionScriptDefault_Text">mem</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">_mw8</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_ptr</span> <span class="ActionScriptOperator">+</span> 102992<span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">v</span> <span class="ActionScriptOperator">?</span> 1 : 0<span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">m_continuousPhysics</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptBracket/Brace">{</span> <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">mem</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">_mru8</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_ptr</span> <span class="ActionScriptOperator">+</span> 102993<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">==</span> 1; <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">set</span> <span class="ActionScriptDefault_Text">m_continuousPhysics</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">v</span>:<span class="ActionScriptDefault_Text">Boolean</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span> <span class="ActionScriptDefault_Text">mem</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">_mw8</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_ptr</span> <span class="ActionScriptOperator">+</span> 102993<span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">v</span> <span class="ActionScriptOperator">?</span> 1 : 0<span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptBracket/Brace">}</span><span class="ActionScriptComment">/// b2ContactListener:</span>                <span class="ActionScriptComment">/// Called when two fixtures begin to touch.</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">BeginContact</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">c</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">a</span>:<span class="ActionScriptDefault_Text">b2Fixture</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">b</span>:<span class="ActionScriptDefault_Text">b2Fixture</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>             <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">m_contactListener</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">m_contactListener</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">BeginContact</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">b2Contact</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">c</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptComment">/// Called when two fixtures cease to touch.</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">EndContact</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">c</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">a</span>:<span class="ActionScriptDefault_Text">b2Fixture</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">b</span>:<span class="ActionScriptDefault_Text">b2Fixture</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>             <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">m_contactListener</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">m_contactListener</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">EndContact</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">b2Contact</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">c</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptComment">/// This is called after a contact is updated. This allows you to inspect a</span>        <span class="ActionScriptComment">/// contact before it goes to the solver. If you are careful, you can modify the</span>        <span class="ActionScriptComment">/// contact manifold (e.g. disable contact).</span>        <span class="ActionScriptComment">/// A copy of the old manifold is provided so that you can detect changes.</span>        <span class="ActionScriptComment">/// Note: this is called only for awake bodies.</span>        <span class="ActionScriptComment">/// Note: this is called even when the number of contact points is zero.</span>        <span class="ActionScriptComment">/// Note: this is not called for sensors.</span>        <span class="ActionScriptComment">/// Note: if you set the number of contact points to zero, you will not</span>        <span class="ActionScriptComment">/// get an EndContact callback. However, you may get a BeginContact callback</span>        <span class="ActionScriptComment">/// the next step.</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">PreSolve</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">c</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">a</span>:<span class="ActionScriptDefault_Text">b2Fixture</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">b</span>:<span class="ActionScriptDefault_Text">b2Fixture</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">o</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>             <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">m_contactListener</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">m_contactListener</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">PreSolve</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">b2Contact</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">c</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">b2Manifold</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">o</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptComment">/// This lets you inspect a contact after the solver is finished. This is useful</span>        <span class="ActionScriptComment">/// for inspecting impulses.</span>        <span class="ActionScriptComment">/// Note: the contact manifold does not include time of impact impulses, which can be</span>        <span class="ActionScriptComment">/// arbitrarily large if the sub-step is small. Hence the impulse is provided explicitly</span>        <span class="ActionScriptComment">/// in a separate data structure.</span>        <span class="ActionScriptComment">/// Note: this is only called for contacts that are touching, solid, and awake.</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">PostSolve</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">c</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">a</span>:<span class="ActionScriptDefault_Text">b2Fixture</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">b</span>:<span class="ActionScriptDefault_Text">b2Fixture</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">i</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>             <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">m_contactListener</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">m_contactListener</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">PostSolve</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">b2Contact</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">c</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">a</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">b</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">b2ContactImpulse</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptComment">/// b2DestructionListener:</span>                <span class="ActionScriptComment">/// Called when any joint is about to be destroyed due</span>        <span class="ActionScriptComment">/// to the destruction of one of its attached bodies.</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">SayGoodbyeJoint</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">j</span>:<span class="ActionScriptDefault_Text">b2Joint</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">m_destructionListener</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">m_destructionListener</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SayGoodbyeJoint</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">j</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptComment">/// Called when any fixture is about to be destroyed due</span>        <span class="ActionScriptComment">/// to the destruction of its parent body.</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">SayGoodbyeFixture</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">f</span>:<span class="ActionScriptDefault_Text">b2Fixture</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">m_destructionListener</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">m_destructionListener</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SayGoodbyeFixture</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">f</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptBracket/Brace">}</span>    <span class="ActionScriptBracket/Brace">}</span><span class="ActionScriptBracket/Brace">}</span></pre></body>
</html>
