<!-- saved from url=(0014)about:internet -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>b2Shape.as</title>
<link rel="stylesheet" type="text/css" href="../../../../SourceStyles.css"/>
</head>

<body><pre><span class="ActionScriptpackage">package</span> <span class="ActionScriptDefault_Text">Box2DAS</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Collision</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Shapes</span> <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">Box2DAS</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">*</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">Box2DAS</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Collision</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">*</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">Box2DAS</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Collision</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Shapes</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">*</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">Box2DAS</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Common</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">*</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">Box2DAS</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Dynamics</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">*</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">Box2DAS</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Dynamics</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Contacts</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">*</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">Box2DAS</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Dynamics</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Joints</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">*</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">cmodule</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Box2D</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">*</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">display</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">*</span>;            <span class="ActionScriptComment">/// A shape is used for collision detection. You can create a shape however you like.</span>    <span class="ActionScriptComment">/// Shapes used for simulation in b2World are created automatically when a b2Fixture</span>    <span class="ActionScriptComment">/// is created.</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptclass">class</span> <span class="ActionScriptDefault_Text">b2Shape</span> <span class="ActionScriptReserved">extends</span> <span class="ActionScriptDefault_Text">b2Base</span> <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">GetType</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">m_type</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">create</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">b</span>:<span class="ActionScriptDefault_Text">b2Body</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">f</span>:<span class="ActionScriptDefault_Text">b2FixtureDef</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">b2Fixture</span> <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">f</span> <span class="ActionScriptOperator">||=</span> <span class="ActionScriptDefault_Text">b2Def</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">fixture</span>;            <span class="ActionScriptDefault_Text">f</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">shape</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>;            <span class="ActionScriptReserved">return</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">b2Fixture</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">b</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">f</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptComment">/// Base draw function.</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">Draw</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">g</span>:<span class="ActionScriptDefault_Text">Graphics</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">xf</span>:<span class="ActionScriptDefault_Text">XF</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">scale</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 1<span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">options</span>:<span class="ActionScriptDefault_Text">Object</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptComment">/// Test a point for containment in this shape. This only works for convex shapes.</span>        <span class="ActionScriptComment">/// @param xf the shape world transform.</span>        <span class="ActionScriptComment">/// @param p a point in world coordinates.</span>        <span class="ActionScriptComment">/// virtual bool TestPoint(const b2Transform&amp; xf, const b2Vec2&amp; p) const = 0;</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptDefault_Text">virtual</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">TestPoint</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">xf</span>:<span class="ActionScriptDefault_Text">XF</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">p</span>:<span class="ActionScriptDefault_Text">V2</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptReserved">false</span>;        <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptComment">/// Cast a ray against this shape.</span>        <span class="ActionScriptComment">/// @param output the ray-cast results.</span>        <span class="ActionScriptComment">/// @param input the ray-cast input parameters.</span>        <span class="ActionScriptComment">/// @param transform the transform to be applied to the shape.</span>        <span class="ActionScriptComment">/// virtual bool RayCast(b2RayCastOutput* output, const b2RayCastInput&amp; input, const b2Transform&amp; transform) const = 0;</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptDefault_Text">virtual</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">RayCast</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">output</span>:<span class="ActionScriptOperator">*</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">input</span>:<span class="ActionScriptOperator">*</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">transform</span>:<span class="ActionScriptDefault_Text">XF</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptReserved">false</span>;        <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptComment">/// Given a transform, compute the associated axis aligned bounding box for this shape.</span>        <span class="ActionScriptComment">/// @param aabb returns the axis aligned box.</span>        <span class="ActionScriptComment">/// @param xf the world transform of the shape.</span>        <span class="ActionScriptComment">/// virtual void ComputeAABB(b2AABB* aabb, const b2Transform&amp; xf) const = 0;</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptDefault_Text">virtual</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">ComputeAABB</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">aabb</span>:<span class="ActionScriptDefault_Text">AABB</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">xf</span>:<span class="ActionScriptDefault_Text">XF</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptComment">/// Compute the mass properties of this shape using its dimensions and density.</span>        <span class="ActionScriptComment">/// The inertia tensor is computed about the local origin, not the centroid.</span>        <span class="ActionScriptComment">/// @param massData returns the mass data for this shape.</span>        <span class="ActionScriptComment">/// @param density the density in kilograms per meter squared.</span>        <span class="ActionScriptComment">/// virtual void ComputeMass(b2MassData* massData, float32 density) const = 0;</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptDefault_Text">virtual</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">ComputeMass</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">massData</span>:<span class="ActionScriptDefault_Text">b2MassData</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">density</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptComment">/// Compute the volume and centroid of this shape intersected with a half plane</span>        <span class="ActionScriptComment">/// @param normal the surface normal</span>        <span class="ActionScriptComment">/// @param offset the surface offset along normal</span>        <span class="ActionScriptComment">/// @param xf the shape transform</span>        <span class="ActionScriptComment">/// @param c returns the centroid</span>        <span class="ActionScriptComment">/// @return the total volume less than offset along normal</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptDefault_Text">virtual</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">ComputeSubmergedArea</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">normal</span>:<span class="ActionScriptDefault_Text">V2</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">offset</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">xf</span>:<span class="ActionScriptDefault_Text">XF</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">c</span>:<span class="ActionScriptDefault_Text">V2</span><span class="ActionScriptBracket/Brace">)</span>: <span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> 0;        <span class="ActionScriptBracket/Brace">}</span>;            <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">e_unknown</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> -1;        <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">e_circle</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0;        <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">e_edge</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 1;        <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">e_polygon</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 2;        <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">e_loop</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 3;        <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">e_typeCount</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 4;                <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">m_type</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptBracket/Brace">{</span> <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">mem</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">_mrs8</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_ptr</span> <span class="ActionScriptOperator">+</span> 4<span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">set</span> <span class="ActionScriptDefault_Text">m_type</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">v</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span> <span class="ActionScriptDefault_Text">mem</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">_mw8</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_ptr</span> <span class="ActionScriptOperator">+</span> 4<span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">v</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">m_radius</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptBracket/Brace">{</span> <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">mem</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">_mrf</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_ptr</span> <span class="ActionScriptOperator">+</span> 8<span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">set</span> <span class="ActionScriptDefault_Text">m_radius</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">v</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span> <span class="ActionScriptDefault_Text">mem</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">_mwf</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_ptr</span> <span class="ActionScriptOperator">+</span> 8<span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">v</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">m_area</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptBracket/Brace">{</span> <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">mem</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">_mrf</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_ptr</span> <span class="ActionScriptOperator">+</span> 12<span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">set</span> <span class="ActionScriptDefault_Text">m_area</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">v</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span> <span class="ActionScriptDefault_Text">mem</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">_mwf</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_ptr</span> <span class="ActionScriptOperator">+</span> 12<span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">v</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptBracket/Brace">}</span><span class="ActionScriptBracket/Brace">}</span></pre></body>
</html>
